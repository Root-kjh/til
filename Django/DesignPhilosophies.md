# Django 설계개념

### Overrall

#### Loose coupling

Django의 기본 목표는 느슨한 결합과 팽팽한 응집력이다.

프레임워크의 각 계층은 서로를 알아서는 안된다.

모든 기능은 독립적이며, 프로그래머가 각 계층을 연결하는 코드를 작성해야 작동한다.

    Rails의 암묵적 규칙으로 각 계층이 이미 연결되어 있는 부분과 상반된다.

#### Less code

Django로 작성한 앱은 코드를 최대한 적게 사용해야 하며, python의 동적 기능을 최대한 활용해 보일러 플레이트 코드를 줄인다.

#### Quick development

비즈니스 코드에만 집중할 수 있도록 해 개발속도가 빠르다.

#### Don't repeat yourself(DRY)

모든 개별 개념 및 데이터는 중복되지 않아야 한다.

동일한 코드가 반복되지 않아야 한다.

#### Explicit is better than implicit (명시적이 암묵적보다 낫다.)

이것은 PEP20에 나와있는 원리로, 암묵적 규칙은 큰 편리함을 만들어낼 때만 사용가치가 있다.

암묵적 규칙은 사용법을 배우려는 개발자에게 혼란스럽게 작용할 수 있다.

#### Consistency(일관성)

프레임워크는 모든 수준에서 일관되어야 한다.

### Models

#### Explicit is better than implicit 

필드는 이름을 기준으로 특정 동작을 가정해서는 안된다.

행동은 키워드 인수, 경우에 따라서는 field의 종류에 근거해야한다.

#### Include all relevant domain logic(모든 도메인 로직 포함)

모델은 Active Record 패턴에 따라 객체의 모든 관점을 캡슐화해야한다.

데이터를 모델로 표현하고, 그 정보를 모델 클래스에 정의하는 이유는 그 때문이다.

모델을 이해하는데 요구되는 모든 정보가 모델 내에 있어야한다.

* Active Record: ORM의 구현 방식의 한 종류로, DB 모델이 데이터에 직접 액세스 하는 방법을 말한다. DB는 모델 객체에 랩핑되고, 각 개체들은 하나의 row에 연결된다.
반대로 모델과 DB를 완전히 분리시키는 Data Mapper Pattern이 있다.

### Database API

#### SQL 최적화

SQL문을 최대한 적은 횟수로 실행해야 하며, 내부적으로 최적화해야 한다.

저장을 프레임워크에서 하는 대신 개발자가 save를 명시적으로 호출하게 한 이유이다.

#### Terse(간결), powerful syntax

가능한 한 적은 구문으로 많은 기능이 가능한 문장을 생성할 수 있어야 한다.

다른 모듈, 객체에 의존해서는 안된다.

join이 요구될 때에는 겉으로 드러나지 않게 자동으로 수행되어야 한다.

모든 객체는 시스템의 모든 관련 객체에 접근할 수 있어야한다.(양방향 접근)

#### Option to drop into raw SQL easily, when needed

DB API는 개발의 편의를 위한 것이며, 프레임워크는 맞춤SQL도 쉽게 작성할 수 있어야한다.

### URL design

#### Loose coupling

URL이 하부 Python코드와 결합되어서는 안된다.

#### 무한한 유연성

생각할 수 있는 모든 URL 설계가 가능해야한다.

#### 모범사례 장려

#### 명확한 URL

기술적인 측면에서, foo.com/bar와 foo.com/bar/는 서로 다른 URL이며, 검색 엔진 로봇이나 몇몇 웹 트래픽 분석 도구에서는 그 둘을 서로 다른 페이지로 봅니다. Django는 URL을 정규화하여 검색 엔진 로봇이 혼동하지 않게 해야 합니다.

이것이 APPEND_SLASH 설정이 있는 이유이다.

