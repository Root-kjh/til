# TCP/IP 프로토콜 슈트와 구조

## TCP/IP 개요와 역사
    IP는 OSI 모델 네트워크 계층의 주요 프로토콜로
    인터네트워크 에서의 주소지정, 데이터그램 라우팅을 비롯한 여러 기능을 제공한다.

    TCP는 전송 계층의 주요 프로토콜로 연결 수립과 관리,
    장비의 소프트웨어 프로세스간 안정적 데이터 전송을 책임진다.

    TCP와 IP는 매우 중요해서 이들의 이름 약자가 전체 프로토콜 슈트의 이름이 됐다.

    TCP와 IP가 중요한 이유는 TCP/IP의 가장 중요한 기능 중 다수고 이들 프로토콜이 존재하는
    3계층과 4계층에 구현돼 있기 떄문이다.

## TCP/IP 서비스

* 다른 프로토콜에 제공하는 서비스
>프로토콜 슈트의 인터네트워킹 기술을 실제로 구현하도록 설계됐다.

    인터네트워킹(internetworking)는 두 개 이상의 네트워크를 연결하여 네트워크 간 하드웨어나 소프트웨어 모두를 연결시키는 방법론을 뜻한다. 네트워크 끼리의 상호연결성을 구성하기 때문에 '네트워크들의 네트워크(A Network of Networks)' 라고 불리기도 한다.

* 최종 사용자 서비스
    ```
    TCP/IP 네트워크를 이용하기 위해 실행하는 애플리케이션의 동작을 돕는다.
    
    예를들어 웹은 애플리케이션 계층 프로토콜인 HTTP를 통해 제공된다.

    HTTP는 다시 하위 계층 프로토콜이 제공하는 서비스를 이용한다.

    이러한 세부사항은 최종 사용자에게 감춰져 제공된다.
    ```

## TCP/IP 클라이언트/서버 구조 모델
>TCP/IP서비스는 주로 클라이언트/서버 모델에서 동작한다. 클라이언트/서버 모델은 비교적 소수의 서버 머신이 훨씬 많은 수의 클라이언트 호스트에게 제공하는 체계다.

TCP/IP 프로토콜은 통신하고자 하는 두 머신이 동일한 소프트웨어를 사용하도록 설계되어 있지 않지만, 서로 대응되는 클라이언트와 서버 소프트웨어 쌍을 이용하여 통신이 이뤄지도록 한다.

클라이언트는 서버에게 데이터나 기타 정보를 요청하는 메시지를 보냄으로써 통신을 시작한다.

서버는 그 메시지에 응답하여 클라이언트가 요청한 것을 보내 주거나 오류 메시지, 또는 정보를 찾을 수 있는 장소 등의 기타 정보를 제공한다.

![TCP/IP 클라이언트/서버 동작](http://xwindow.angelfire.com/image88.gif)

출처 : [X Window System Internals](http://xwindow.angelfire.com/page8_3.html)

### 트랜잭션 역할

보통 트랜잭션은 클라이언트 장비의 소프트웨어에서 시작된다.

특정 프로토콜에서 서버들이 서로 통신할 때 한장비는 클라이언트, 다른 장비는 서버 역할을 한다.

이들은 세션 중간에 클라이언트와 서버의 역할을 바꾸는 경우도 있다.

## TCP/IP 구조와 모델

![OSI 참조 모델과 TCP/IP 모델 계층](https://clinetworking.files.wordpress.com/2018/06/tcp-ip-model-vs-osi-model.png)

출처 : [Command Line Networking](https://clinetworking.wordpress.com/2018/06/09/1-1-compare-and-contrast-osi-and-tcp-ip-models/)

* 네트워크 인터페이스 계층
    ```
    OSI 참조 모델의 데이터 링크 계층에 대응된다.

    TCPC/IP 네트워크의 경우 네트워크 인터페이스 계층에서 동작하는 TCP/IP 프로토콜은 존재하지 않는다.

    TCP/IP 표준은 2계층 구현을 가지고 있지 않은 TCP/IP 네트워크를 위한 프로토콜을 정의한다.

    이들 프로토콜은 네트워크 계층과 물리 계층 사이의 경계를 매운다.

* 인터넷 계층
    ```
    OSI 참조 모델의 네트워크 계층에 해당되는 계층이다.

    논리적 장비 주소지정, 데이터 패키징, 조작과 전달, 라우팅과 같은 3계층 작업을 수행한다.

    TCP/IP의 핵심인 IP, 인터넷 제어 메시지 프로토콜(ICMP)과 라우팅 프로토콜(RIP,OSFP,BGP)등이 존재한다.

    IPv6도 이 계층에 속한다.
    ```

* 애플리케이션 계층
    ```
    TCP/IP 모델의 최상위 계층이다.

    OSI 모델의 5에서 7계층까지를 포함하는 다소 광범위한 계층이다.
    
    HTTP, FTP SMTP와 같은 애플리케이션 프로토콜부터 단순 네트워크 관리 프로토콜,
    동적 호스트 설정 프로토콜(DHCP), 도메인 네임 시스템(DNS)과 같은 프로토콜도 있다.

## TCP/IP 프로토콜

<table>
<tr>
<th>TCP/IP계층</th>
<th>프로토콜 약어</th>
<th>프로토콜 이름</th>
<th>설명</th>
</tr>
<tr>
<td rowspan="2">네트워크 인터페이스(2계층)</td>
<td>SLIP</td>
<td>직렬 회선 인터넷 프로토콜</td>
<td>직렬 회선으로 두 장비 간 2계층 연결을 맺어 기본적인 TCP/IP 기능을 제공한다</td>
</tr>
<tr>
<td>PPP</td>
<td>점대점 프로토콜</td>
<td>SLIP와 같이 2계층 연결을 제공하지만 훨씬 복잡하고 강력하다. PPP는 그 자체로 프로토콜 슈트이며 인증, 데이터 캡슐화, 암호화, 링크 통합 등의 기능을 통해 WAN 링크에서 TCP/IP 동작을 촉진한다.</td>
</tr>
<tr>
<td rowspan="2">네트워크 인터페이스/인터넷(2/3계층)</td>
<td>ARP</td>
<td>주소 결정 프로토콜</td>
<td>3계층 IP 주소를 2계층 물리적 네트워크 주소로 변환하는데 쓰인다.</td>
</tr>
<tr>
<td>RARP</td>
<td>역순 주소 결정 프로토콜</td>
<td>머신의 2계층 주소를 가지고 3계층 주소를 알아낸다. 지금은 대부분 BOOTP와 DHCP로 대체됐다.</td>
</tr>
<tr>
<td rowspan="7">인터넷 계층(3계층)</td>
<td>IP, IPv6</td>
<td>인터넷 프로토콜, 인터넷 프로토콜 버전6</td>
<td>TCP/IP 네트워크에서 전송 계층 메시지의 캡슐화와 비연결형 전달을 제공한다. 주소지정과 라우팅 기능도 제공한다</td>
</tr>
<tr>
<td>IP NAT</td>
<td>IP 네트워크 주소 변환</td>
<td>사설 네트워크 주소를 자동으로 공중 네트워크 주소로 변환하여 주소를 공유하고 보안을 강화할 수 있도록 한다.</td>
</tr>
<tr>
<td>IPsec</td>
<td>IP Security</td>
<td>IP 전송의 보안을 강화하는 IP 관련 프로토콜 모음</td>
</tr>
<tr>
<td>모바일 IP</td>
<td>인터넷 프로토콜 이동성 지원</td>
<td>모바일 장비와 연관된 IP의 일부 문제를 해결한다.</td>
</tr>
<tr>
<td>ICMP/ICMPv4, ICMPv6</td>
<td>인터넷 제어 메시지 프로토콜</td>
<td>IP와 IPv6의 지원 프로토콜로 호스트 에러 보고와 정보 요청/응답 기능을 제공한다.</td>
</tr>
<tr>
<td>NDP</td>
<td>주변 탐색 프로토콜</td>
<td>IPv6에 새로 도입된 지원 프로토콜로 기존 IP의 ARP와 ICMP가 수행하던 기능을 포함한다.</td>
</tr>
<tr>
<td>
RIP,

OSPF,
 
GGP, 
  
HELLO,
IGRP,
   
EIGRP,
    
BGP,
EGP
</td>
<td>
라우팅 정보 프로토콜, 

최단 경로 우선 프로토콜, 

게이트웨이 간 프로토콜, 

HELLO 프로토콜, 

내부 경로 제어 프로토콜, 

확장 내부 경로 제어 프로토콜, 

경계 경로 프로토콜, 

외부 게이트웨이 프로토콜
</td>
<td>IP 데이터그램을 라우팅하고라우팅 정보를 교환하는 데 쓰이는 프로토콜</td>
</tr>
<tr>
<td rowspan="2">호스트 간 전송 계층(4계층)</td>
<td>TCP</td>
<td>전송 제어 프로토콜</td>
<td>TCP/IP의 주요 전송 계층 프로토콜, 장비 간에 연결을 수립하고 관리하며 IP를 이용해 안정적으로 흐름 제어 가능한 방법으로 데이터를 전달하는 것을 보장한다.</td>
</tr>
<tr>
<td>UDP</td>
<td>사용자 데이터그램 프로토콜</td>
<td>TCP의 기능을 대폭 축소한 버전, 애플리케이션 프로세스 간에 데이터를 보낼 때 사용할 수 있는 단순한 방법이다. TCP와 같이 안정성과 흐름 관리 기능을 제공하지는 않지만 TCP보다 훨씬 효율적이다.</td>
</tr>
<tr>
<td rowspan="15">애플리케이션 계층(5/6/7계층)</td>
<td>DNS</td>
<td>도메인 네임 시스템</td>
<td>숫자로 된 IP 주소가 아니라 이름을 이용해서 IP 장비를 가리킬 수 있도록 한다. 머신의 이름을 해당하는 IP 주소로 변환한다.</td>
</tr>
<tr>
<td>NFS</td>
<td>네트워크 파일 시스템</td>
<td>파일을 TCP/IP에서 편리하게 교환할 수 있도록 한다.</td>
</tr>
<tr>
<td>BOOTP</td>
<td>부트스트랩 프로토콜</td>
<td>RARP와 관련된 문제를 해결하기 위해 개발, RARP와 유사하게 쓰인다. TCP/IP 장비의 초기 부팅시 환결 설정을 돕는다. BOOTP는 대부분 DHCP로 교체됐다.</td>
</tr>
<tr>
<td>DHCP</td>
<td>동적 호스트 설정 프로토콜</td>
<td>TCP/IP 장비를 구성하고 IP 주소를 관리하기 위한 완전한 프로토콜. RARP와 BOOTP의 후속 프로토콜이며 여러 특징과 기능을제공한다.</td>
</tr>
<tr>
<td>SNMP</td>
<td>단순 네트워크 관리 프로토콜</td>
<td>네트워크와장비의 원격 관리를 위한 완전한 기능을 제공하는 프로토콜</td>
</tr>
<tr>
<td>RMON</td>
<td>원격 모니터링</td>
<td>네트워크 장비를 원격 모니터링하는 데 쓰이는 진단 프로토콜</td>
</tr>
<tr>
<td>FTP, TFTP</td>
<td>파일 전송, 간이 파일 전송 프로토콜</td>
<td>한 장비에서 다른 장비로 모든 유형의 파일을 전송하기 위해 설계된 프로토콜</td>
</tr>
<tr>
<td>
RFC 822,
MIME,

SMTP,

POP,

IMAP
</td>
<td>
RFC 822,

다목적 인터넷 메일 확장,

단순 메일 전송 프로토콜,

포스트 오피스 프로토콜,

인터넷 메시지 접근 프로토콜
</td>
<td>이메일 메시지의 포매팅, 전달, 저장을 정의하는 프로토콜</td>
</tr>
<tr>
<td>NNTP</td>
<td>유즈넷 뉴스 전송 프로토콜</td>
<td>호스트 간에 유즈넷 뉴스 메시지를 전달하여 유즈넷 온라인 커뮤니티가 잘 운영되도록 한다.</td>
</tr>
<tr>
<td>HTTP</td>
<td>하이퍼텍스트 전송 프로토콜</td>
<td>하이퍼텍스트를 전달한다. 월드와이드웹으 구현하는 프로토콜</td>
</tr>
<tr>
<td>Gopher</td>
<td>고퍼 프로토콜</td>
<td>예전에 쓰이던 문서 검색 프로토콜. 월드와이드웹에 의해 대부분 대체됨</td>
</tr>
<tr>
<td>Telnet</td>
<td>텔넷 프로토콜</td>
<td>한 머신의 사용자가 원격 머신의 터미널 세션에 연결할 수 있도록 한다.</td>
</tr>
<tr>
<td>-</td>
<td>버클리 "r" 명령</td>
<td>원격 머신에서 명령과 작업을 수행할 수 있도록 한다.</td>
</tr>
<tr>
<td>IRC</td>
<td>인터넷 릴레이 채팅</td>
<td>TCP/IP 사용자 간에 실시간 대화를 할 수 있도록 한다.</td>
</tr>
<tr>
<td>-</td>
<td>관리 문젷결용 유틸리티와 프로토콜</td>
<td>관리자가 TCP/IP 인터네트워크를 관리하고, 구성하고, 문제를 해결할 수 있도록 하는 소프트웨어 도구 모음</td>
</tr>
</table>