# MongoDB
---

## MongoDB란

     Document-Oriented(문서 지향적) NoSQL 데이터베이스이다.

* NoSQL(Not Only SQL) : RDBMS의 한계를 극복하기 위한 새로운 형태의 데이터베이스

* Document : JSON Objects 형태의 Key-Value의 쌍으로 이루어진 데이터 구조로 구성됨

```json
{
  _id: ObjectId("5099803df3f4948bd2f98391"),
  name: { first: "Alan", last: "Turing" },
  birth: new Date('Jun 23, 1912'),
  death: new Date('Jun 07, 1954'),
  contribs: [ "Turing machine", "Turing test", "Turingery" ],
  views : NumberLong(1250000)
}
```

* 각 Document는 _id라는 고유한 값을 가진다.


* MongoDB 구조

![MongoDB 구조](https://poiemaweb.com/img/mongodb-structure.png)
[출처 : poiemaweb](https://poiemaweb.com/)

* Collection : RDBMS의 Table과 유사한 개념, Documnet들의 집합으로 구성된다.

* Database : Collection들의 물리적 컨테이너

## MongoDB의 특징

* Schema-less : 고정적인 스키마가 존재하지 않아 같은 Collection 내의 Document 끼리 다른 Schema를 가질 수 있다.

* JOIN 기능이 없어 Table JOIN은 효과적이지 않지만 CRUD Query는 고속으로 동작한다. & 하나의 Document(포스트)에 Sub Document로 댓글을 포함시킨다.

## MongoDB 설치

* Repository 추가

```conf
[mongodb-org-4.0]
name=MongoDB Repository
baseurl=https://repo.mongodb.org/yum/redhat/7/mongodb-org/4.0/x86_64/
gpgcheck=1
enabled=1
gpgkey=https://www.mongodb.org/static/pgp/server-4.0.asc
```

* MongoDB 설치

```
yum -y install mongodb-org
```

* /etc/mongod.conf 설정

```conf
net:
    port: 27017
    bindIp: 0.0.0.0 # 모든 IP의 연결 허용
```

* MongoDB start

```
service mongod start
```